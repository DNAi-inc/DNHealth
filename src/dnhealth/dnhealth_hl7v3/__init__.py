# Copyright 2025 DNAi inc.

# Dual-licensed under the DNAi Free License v1.1 and the
# DNAi Commercial License v1.1.
# See the LICENSE files in the project root for details.

"""
HL7 v3 XML message parsing and serialization.

This module provides complete support for HL7 v3 XML messages,
including namespace support and full structural preservation.
"""

from dnhealth.dnhealth_hl7v3.model import ElementNode, Message
from dnhealth.dnhealth_hl7v3.parser import parse_hl7v3
from dnhealth.dnhealth_hl7v3.serializer import serialize_hl7v3
from dnhealth.dnhealth_hl7v3.xpath import find_by_xpath, get_xpath
from dnhealth.dnhealth_hl7v3.schema import (
    SchemaValidator,
    validate_against_schema,
    is_valid_against_schema,
    SchemaValidationError,
)
from dnhealth.dnhealth_hl7v3.rim import (
    Entity,
    Role,
    Act,
    Participation,
    ActRelationship,
    RoleLink,
    create_entity_role_relationship,
    create_role_act_participation,
    create_act_relationship,
    create_role_link,
)
from dnhealth.dnhealth_hl7v3.interactions import (
    PRPA_IN201301UV02,
    PRPA_IN201302UV02,
    PRPA_IN201303UV02,
    PRPA_IN201304UV02,
    PRPA_IN201305UV02,
    PRPA_IN201306UV02,
    POLB_IN224200UV,
    POLB_IN224201UV,
    POLB_IN224202UV,
    POLB_IN224203UV,
    PORX_IN060100UV,
    PORX_IN060200UV,
    PORX_IN060300UV,
    PORX_IN060400UV,
    MCCI_IN000001UV,
    MCCI_IN000002UV,
    RAD_IN000001UV,
    RAD_IN000002UV,
    RAD_IN000003UV,
    RAD_IN000004UV,
    PRSC_IN000001UV,
    PRSC_IN000002UV,
    PRSC_IN000003UV,
    PRSC_IN000004UV,
    QUQI_IN000001UV,
    QUQI_IN000002UV,
    MFMI_IN000001UV,
    MFMI_IN000002UV,
    COCT_IN000001UV,
    COCT_IN000002UV,
    COCR_IN000001UV,
    COCR_IN000002UV,
    COIN_IN000001UV,
    COIN_IN000002UV,
    COMT_IN000001UV,
    COMT_IN000002UV,
    CDA_IN000001UV,
    CDA_IN000002UV,
    parse_interaction_type,
    create_interaction_from_rim,
)
from dnhealth.dnhealth_hl7v3.datatypes import (
    ANY,
    BL,
    BN,
    BAG,
    LIST,
    SET,
    CD,
    CE,
    CS,
    CV,
    ED,
    EIVL,
    EN,
    ENXP,
    GTS,
    II,
    INT,
    IVL,
    MO,
    ON,
    PIVL,
    PN,
    PQ,
    QTY,
    REAL,
    RTO,
    SC,
    ST,
    TEL,
    TN,
    TS,
    URL,
    UVP,
    AD,
    ADXP,
    CO,
    CR,
    HXIT,
    IVL_PQ,
    PQR,
    UUID,
    ANYNonNull,
    URG,
    UVC,
    IVL_TS,
    UVN_TS,
    PIVL_TS,
)

__all__ = [
    # Model classes
    "ElementNode",
    "Message",
    # Parser/Serializer
    "parse_hl7v3",
    "serialize_hl7v3",
    # XPath utilities
    "find_by_xpath",
    "get_xpath",
    # Schema validation
    "SchemaValidator",
    "validate_against_schema",
    "is_valid_against_schema",
    "SchemaValidationError",
    # RIM classes
    "Entity",
    "Role",
    "Act",
    "Participation",
    "ActRelationship",
    "RoleLink",
    # RIM helper functions
    "create_entity_role_relationship",
    "create_role_act_participation",
    "create_act_relationship",
    "create_role_link",
    # Interaction types - PRPA
    "PRPA_IN201301UV02",
    "PRPA_IN201302UV02",
    "PRPA_IN201303UV02",
    "PRPA_IN201304UV02",
    "PRPA_IN201305UV02",
    "PRPA_IN201306UV02",
    # Interaction types - POLB
    "POLB_IN224200UV",
    "POLB_IN224201UV",
    "POLB_IN224202UV",
    "POLB_IN224203UV",
    # Interaction types - PORX
    "PORX_IN060100UV",
    "PORX_IN060200UV",
    "PORX_IN060300UV",
    "PORX_IN060400UV",
    # Interaction types - MCCI
    "MCCI_IN000001UV",
    "MCCI_IN000002UV",
    # Interaction types - RAD
    "RAD_IN000001UV",
    "RAD_IN000002UV",
    "RAD_IN000003UV",
    "RAD_IN000004UV",
    # Interaction types - PRSC
    "PRSC_IN000001UV",
    "PRSC_IN000002UV",
    "PRSC_IN000003UV",
    "PRSC_IN000004UV",
    # Interaction types - QUQI
    "QUQI_IN000001UV",
    "QUQI_IN000002UV",
    # Interaction types - MFMI
    "MFMI_IN000001UV",
    "MFMI_IN000002UV",
    # Interaction types - COCT
    "COCT_IN000001UV",
    "COCT_IN000002UV",
    # Interaction types - COCR
    "COCR_IN000001UV",
    "COCR_IN000002UV",
    # Interaction types - COIN
    "COIN_IN000001UV",
    "COIN_IN000002UV",
    # Interaction types - COMT
    "COMT_IN000001UV",
    "COMT_IN000002UV",
    # Interaction types - CDA
    "CDA_IN000001UV",
    "CDA_IN000002UV",
    # Interaction helpers
    "parse_interaction_type",
    "create_interaction_from_rim",
    # Data types - Primitive
    "ANY",
    "BL",
    "BN",
    "BAG",
    "LIST",
    "SET",
    # Data types - Complex
    "CD",
    "CE",
    "CS",
    "CV",
    "ED",
    "EIVL",
    "EN",
    "ENXP",
    "GTS",
    "II",
    "INT",
    "IVL",
    "MO",
    "ON",
    "PIVL",
    "PN",
    "PQ",
    "QTY",
    "REAL",
    "RTO",
    "SC",
    "ST",
    "TEL",
    "TN",
    "TS",
    "URL",
    "UVP",
    "AD",
    "ADXP",
    "CO",
    "CR",
    "HXIT",
    "IVL_PQ",
    "PQR",
    "UUID",
    "ANYNonNull",
    "URG",
    "UVC",
    "IVL_TS",
    "UVN_TS",
    "PIVL_TS",
]

